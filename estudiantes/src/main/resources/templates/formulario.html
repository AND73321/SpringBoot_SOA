<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Formulario Estudiante</title>
  <meta charset="UTF-8">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-5">
  <h2 class="text-primary text-center mb-4"
      th:text="${estudiante.cedula != null} ? 'Editar Estudiante' : 'Nuevo Estudiante'"></h2>

  <form th:action="@{/estudiantes}" th:object="${estudiante}" method="post"
        class="bg-white p-4 rounded shadow-sm mx-auto" style="max-width: 600px;">

    <div class="mb-3">
      <label class="form-label">Cédula</label>

      <!-- Input editable si es nuevo -->
      <input type="text" th:field="*{cedula}" class="form-control"
             th:if="${estudiante.cedula == null}" required/>

      <!-- Input solo lectura si es edición -->
      <input type="text" th:field="*{cedula}" class="form-control"
             style="background-color: #e9ecef;"
             readonly
             th:unless="${estudiante.cedula == null}" required/>
    </div>


    <div class="mb-3">
      <label class="form-label">Nombre</label>
      <input type="text" th:field="*{nombre}" class="form-control" required/>
    </div>

    <div class="mb-3">
      <label class="form-label">Apellido</label>
      <input type="text" th:field="*{apellido}" class="form-control" required/>
    </div>

    <div class="mb-3">
      <label class="form-label">Dirección</label>
      <input type="text" th:field="*{direccion}" class="form-control" required/>
    </div>

    <div class="mb-3">
      <label class="form-label">Teléfono</label>
      <input type="text" th:field="*{telefono}" class="form-control" required/>
    </div>

    <div class="d-flex justify-content-between">
      <a th:href="@{/}" class="btn btn-secondary">Volver</a>
      <button type="submit" class="btn btn-success">Guardar</button>
    </div>
  </form>
</div>

</body>
</html>
